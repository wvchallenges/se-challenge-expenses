$(function(){$(".ui.sidebar").sidebar("attach events",".toc.item");$(".ui.error ul").addClass("list");$(".ui.error ul li:first").css("display")==="none"?$(".ui.error").hide():$(".ui.error").show();$(".ui.checkbox").checkbox();$("table").tablesort();Dropzone.options.csvDropzone={maxFilesize:2,acceptedFiles:".csv",init:function(){this.on("complete",function(){this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0&&(window.location.href="")})}}}),function(n){n.tablesort=function(t,i){var r=this;this.$table=t;this.settings=n.extend({},n.tablesort.defaults,i);this.$table.find("thead th").bind("click.tablesort",function(){n(this).hasClass("disabled")||r.sort(n(this))});this.index=null;this.$th=null;this.direction=[]};n.tablesort.prototype={sort:function(t,i){var c=new Date,r=this,o=this.$table,e=o.find("tbody tr"),u=t.index(),f=[],s=n("<div/>"),h=function(n,t,i){var r;return n.data().sortBy?(r=n.data().sortBy,typeof r=="function"?r(n,t,i):r):t.data("sort")?t.data("sort"):t.text()},l=function(n,t){var l=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,a=/(^[ ]*|[ ]*$)/g,v=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,y=/^0x[0-9a-f]+$/i,p=/^0/,w=function(n){return(""+n).toLowerCase().replace(",","")},e=w(n).replace(a,"")||"",o=w(t).replace(a,"")||"",f=e.replace(l,'\0$1\0').replace(/\0$/,"").replace(/^\0/,"").split('\0'),s=o.replace(l,'\0$1\0').replace(/\0$/,"").replace(/^\0/,"").split('\0'),b=Math.max(f.length,s.length),h=parseInt(e.match(y),10)||f.length!=1&&e.match(v)&&Date.parse(e),c=parseInt(o.match(y),10)||h&&o.match(v)&&Date.parse(o)||null,r,u,i;if(c){if(h<c)return-1;if(h>c)return 1}for(i=0;i<b;i++){if(r=!(f[i]||"").match(p)&&parseFloat(f[i])||f[i]||0,u=!(s[i]||"").match(p)&&parseFloat(s[i])||s[i]||0,isNaN(r)!==isNaN(u))return isNaN(r)?1:-1;if(typeof r!=typeof u&&(r+="",u+=""),r<u)return-1;if(r>u)return 1}return 0};e.length!==0&&(r.$table.find("thead th").removeClass(r.settings.asc+" "+r.settings.desc),this.$th=t,this.direction[u]=this.index!=u?"desc":i!=="asc"&&i!=="desc"?this.direction[u]==="desc"?"asc":"desc":i,this.index=u,i=this.direction[u]=="asc"?1:-1,r.$table.trigger("tablesort:start",[r]),r.log("Sorting by "+this.index+" "+this.direction[u]),e.sort(function(u,e){var c=n(u),a=n(e),o=c.index(),s=a.index();return f[o]?u=f[o]:(u=h(t,r.cellToSort(u),r),f[o]=u),f[s]?e=f[s]:(e=h(t,r.cellToSort(e),r),f[s]=e),l(u,e)*i}),e.each(function(n,t){s.append(t)}),o.append(s.html()),t.addClass(r.settings[r.direction[u]]),r.log("Sort finished in "+((new Date).getTime()-c.getTime())+"ms"),r.$table.trigger("tablesort:complete",[r]))},cellToSort:function(t){return n(n(t).find("td").get(this.index))},log:function(t){(n.tablesort.DEBUG||this.settings.debug)&&console&&console.log&&console.log("[tablesort] "+t)},destroy:function(){return this.$table.find("thead th").unbind("click.tablesort"),this.$table.data("tablesort",null),null}};n.tablesort.DEBUG=!1;n.tablesort.defaults={debug:n.tablesort.DEBUG,asc:"sorted ascending",desc:"sorted descending"};n.fn.tablesort=function(t){var i,r;return this.each(function(){i=n(this);r=i.data("tablesort");r&&r.destroy();i.data("tablesort",new n.tablesort(i,t))})}}(jQuery);